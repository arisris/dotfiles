#!/usr/bin/bash

ROFI_STYLE_CSS='
    window { width: 300px; height: 240px; padding: 1em; }
    mainbox { children: [listview]; }
    listview { lines: 3; columns: 1; spacing: 4; }
    element { padding: 0.5em; margin: 2px; border-radius: 6px; border: 1px; border-color: @blue; cursor: pointer; }
    element-text { font: "NotoSans Nerd Font Bold 14"; horizontal-align: 0.5; vertical-align: 0.5; text-color: inherit; background-color: inherit; }
'

OPT_LOGOUT="<span color='#89b4fa' weight='bold'>󰗼 Logout</span>"
OPT_REBOOT="<span color='#f9e2af' weight='bold'> Reboot</span>"
OPT_SHUTDOWN="<span color='#f38ba8' weight='bold'> Shutdown</span>"

CHOICE=$(echo -e "$OPT_LOGOUT\n$OPT_REBOOT\n$OPT_SHUTDOWN" | rofi -dmenu -i -markup-rows -theme-str "$ROFI_STYLE_CSS" -p "System")

if [ -n "$CHOICE" ]; then
    if [[ "$CHOICE" == *Logout* ]]; then
        i3-msg exit
    elif [[ "$CHOICE" == *Reboot* ]]; then
        systemctl reboot
    elif [[ "$CHOICE" == *Shutdown* ]]; then
        systemctl poweroff
    fi
fi